{"version":3,"sources":["webpack:///static/js/app.f7107e1dcdd087647298.js","webpack:///./src/App.vue?35a7","webpack:///App.vue","webpack:///./src/Dragger.js","webpack:///./src/ImageHandler.js","webpack:///./src/main.js","webpack:///./src/App.vue?b5ea"],"names":["webpackJsonp","33","module","exports","__webpack_require__","Component","35","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__Dragger__","__WEBPACK_IMPORTED_MODULE_1__ImageHandler__","props","data","step","overlay","avatar","image","dragger","this","onMove","fb_cropper_width","orientation_prop","canvas","width","height","canvasImage","top","left","cropbox","cropboxImage","dragging","dragStartPos","croppedImageSrc","methods","handleImage","e","preventDefault","$emit","files","target","dataTransfer","file","self","isImage","onFileRead","resize","fit","create","setOffset","addPx","obj","o","hasOwnProperty","window","device","$refs","fbContainer","offsetWidth","prop","caclImageOffset","style","setCropboxImageProp","setCanvasImageProp","cb","img","cl","ct","parseInt","limitX","limitY","getMinValue","resizeImage","ev","cropImage","canvas_width","canvas_height","isCrop","computed","selectorStyle","config","canvasStyle","canvasImageStyle","cropboxStyle","cropboxImageStyle","getStep","footerStyle","created","opt","max","maxSize","min","Math","mounted","forEach","type","document","querySelector","addEventListener","36","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","Dragger","el","drag_elements","callback","startClientXY","startStyleXY","key","clientX","clientY","dragStart","onDrag","indexOf","toElement","className","drag_start","touches","changedTouches","move_start","37","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","ImageHandler","arguments","length","undefined","src","includes","origFileName","name","origFileSize","size","reader","FileReader","onload","event","onLoadImage","result","readAsDataURL","Image","naturalWidth","naturalHeight","quality","cvs","createElement","getContext","drawImage","toDataURL","setSize","round","a","resolve","canvas_prop","38","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","productionTip","template","components","App","imageData","base64Image","console","log","onError","msg","onFileSelect","76","78","render","_vm","_h","$createElement","_c","_self","ref","attrs","id","directives","rawName","expression","staticClass","on","click","$event","fileinput","dragleave","dragover","dragenter","drop","staticStyle","display","accept","change","_v","color","margin","font-size","modifiers","number","domProps","input","__r","_n","blur","$forceUpdate","alt","staticRenderFns"],"mappings":"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","file":"static/js/app.f7107e1dcdd087647298.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(76)\n\nvar Component = __webpack_require__(77)(\n  /* script */\n  __webpack_require__(35),\n  /* template */\n  __webpack_require__(78),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Dragger__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ImageHandler__ = __webpack_require__(37);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\n    props: ['config', 'callback', 'redirTo'],\n\n    data: function data() {\n        return {\n\n            step: 0,\n\n            overlay: false,\n\n            avatar: null,\n\n            image: new __WEBPACK_IMPORTED_MODULE_1__ImageHandler__[\"a\" /* default */](),\n\n            dragger: new __WEBPACK_IMPORTED_MODULE_0__Dragger__[\"a\" /* default */]('.fbc-canvas-img', ['.fbc-drag-overlay'], this.onMove),\n\n            fb_cropper_width: 1000,\n\n            orientation_prop: 1.8,\n\n            canvas: { width: 0, height: 0 },\n\n            canvasImage: { width: 0, height: 0, top: 0, left: 0 },\n\n            cropbox: { width: 0, height: 0, left: 0, top: 0 },\n\n            cropboxImage: { width: 0, height: 0, left: 0, top: 0 },\n\n            dragging: false,\n\n            dragStartPos: [],\n\n            croppedImageSrc: ''\n        };\n    },\n\n    methods: {\n        handleImage: function handleImage(e) {\n\n            e.preventDefault();\n\n            this.overlay = true;\n\n            this.$emit('fileSelect');\n\n            var files = e.target.files || e.dataTransfer.files;\n\n            var file = files[0];\n\n            e.target.value = null;\n\n            var self = this;\n\n            if (!this.image.isImage(file)) {\n\n                this.$emit('error', 'Invalid Image');\n\n                self.overlay = false;\n\n                return false;\n            }\n\n            this.image.onFileRead(file, function () {\n                self.image.resize().fit().create();\n\n                self.canvasImage.width = self.image.width;\n\n                self.canvasImage.height = self.image.height;\n\n                self.step = 1;\n\n                self.overlay = false;\n\n                self.setOffset();\n            });\n        },\n        addPx: function addPx(obj) {\n            var o = {};\n\n            o.width = obj.width + 'px';\n\n            o.height = obj.height + 'px';\n\n            if (obj.hasOwnProperty('top')) o.top = obj.top + 'px';\n\n            if (obj.hasOwnProperty('left')) o.left = obj.left + 'px';\n\n            return o;\n        },\n        setOffset: function setOffset() {\n\n            if (window.device === 'mobile') {\n\n                this.canvas.width = this.$refs.fbContainer.offsetWidth;\n\n                this.canvas.height = this.canvas.width;\n            }\n\n            var width = void 0,\n                height = void 0;\n\n            if (this.image.prop >= 1) {\n                width = this.image.width > this.cropbox.width ? this.cropbox.width : this.image.width;\n                height = width / this.image.prop;\n            } else {\n                height = this.image.height > this.cropbox.height ? this.cropbox.height : this.image.height;\n                width = height * this.image.prop;\n            }\n\n            if (width < this.cropbox.width) {\n                width = this.cropbox.width;\n                height = width / this.image.prop;\n            }\n\n            if (height < this.cropbox.height) {\n                height = this.cropbox.height;\n                width = height * this.image.prop;\n            }\n\n            this.caclImageOffset(width, height);\n        },\n        caclImageOffset: function caclImageOffset(width, height) {\n\n            var left = void 0,\n                top = void 0;\n\n            left = (this.canvas.width - width) / 2;\n\n            top = (this.canvas.height - height) / 2;\n\n            this.$refs.canvasImage.style.width = width + 'px';\n\n            this.$refs.canvasImage.style.height = height + 'px';\n\n            this.$refs.canvasImage.style.left = left + 'px';\n\n            this.$refs.canvasImage.style.top = top + 'px';\n\n            this.canvasImage = { width: width, height: height, left: left, top: top };\n\n            this.setCropboxImageProp();\n        },\n        setCanvasImageProp: function setCanvasImageProp() {\n\n            this.canvasImage.left = (this.canvas.width - this.canvasImage.width) / 2;\n\n            this.canvasImage.top = (this.canvas.height - this.canvasImage.height) / 2;\n        },\n        setCropboxImageProp: function setCropboxImageProp() {\n\n            var cb = this.$refs.cropboxImage.style;\n\n            cb.width = this.canvasImage.width + 'px';\n\n            cb.height = this.canvasImage.height + 'px';\n\n            this.cropbox.left = (this.canvas.width - this.cropbox.width) / 2;\n\n            this.cropbox.top = (this.canvas.height - this.cropbox.height) / 2;\n\n            if (this.image.img) {\n\n                var cl = this.canvasImage.left - this.cropbox.left;\n\n                var ct = this.canvasImage.top - this.cropbox.top;\n\n                cb.left = cl + 'px';\n\n                cb.top = ct + 'px';\n\n                this.cropboxImage = { width: parseInt(cb.width), height: parseInt(cb.height), top: ct, left: cl };\n            }\n        },\n        onMove: function onMove(left, top) {\n\n            var limitX = this.cropbox.width + this.cropbox.left - this.canvasImage.width;\n\n            left = left < limitX ? limitX : left;\n\n            left = left > this.cropbox.left ? this.cropbox.left : left;\n\n            this.$refs.canvasImage.style.left = left + 'px';\n\n            var limitY = this.cropbox.height + this.cropbox.top - this.canvasImage.height;\n\n            top = top < limitY ? limitY : top;\n\n            top = top > this.cropbox.top ? this.cropbox.top : top;\n\n            this.$refs.canvasImage.style.top = top + 'px';\n\n            this.canvasImage.left = left;\n\n            this.canvasImage.top = top;\n\n            this.setCropboxImageProp(left, top);\n        },\n        getMinValue: function getMinValue() {\n            if (this.cropbox.height > this.cropbox.width) {\n                return this.image.prop > 1 ? this.cropbox.height * this.image.prop : this.cropbox.height;\n            }\n\n            return this.image.prop > 1 ? this.cropbox.width * this.image.prop : this.cropbox.width;\n\n            return this.cropbox.width;\n        },\n        resizeImage: function resizeImage(ev) {\n\n            this.canvasImage.height = this.canvasImage.width / this.image.prop;\n\n            this.caclImageOffset(this.canvasImage.width, this.canvasImage.height);\n        },\n        cropImage: function cropImage(e) {\n\n            e.preventDefault();\n\n            this.overlay = true;\n\n            self = this;\n\n            var data = this.image.create({\n                canvas_width: this.cropbox.width,\n                canvas_height: this.cropbox.height,\n                width: this.cropboxImage.width,\n                height: this.cropboxImage.height,\n                top: this.cropboxImage.top,\n                left: this.cropboxImage.left,\n                isCrop: true\n\n            });\n\n            this.croppedImageSrc = data;\n\n            this.step = 2;\n\n            this.overlay = false;\n\n            this.$emit('crop', data);\n        }\n    },\n\n    computed: {\n        selectorStyle: function selectorStyle() {\n\n            return {\n                width: this.config.canvas.width + 'px',\n                height: this.config.canvas.height + 'px'\n            };\n        },\n        canvasStyle: function canvasStyle() {\n\n            this.setCanvasImageProp();\n\n            return this.addPx(this.canvas);\n        },\n        canvasImageStyle: function canvasImageStyle() {\n\n            return this.addPx(this.canvasImage);\n        },\n        cropboxStyle: function cropboxStyle() {\n\n            this.cropbox.left = (this.canvas.width - this.cropbox.width) / 2;\n\n            this.cropbox.top = (this.canvas.height - this.cropbox.height) / 2;\n\n            return this.addPx(this.cropbox);\n        },\n        cropboxImageStyle: function cropboxImageStyle() {\n\n            this.cropboxImage.width = this.canvasImage.width;\n\n            this.cropboxImage.height = this.canvasImage.height;\n\n            return this.addPx(this.cropboxImage);\n        },\n        getStep: function getStep() {\n            return (this.image.width - this.getMinValue()) / 10;\n        },\n        footerStyle: function footerStyle() {\n\n            return {\n                width: this.config.canvas.width + 'px'\n            };\n        }\n    },\n\n    created: function created() {\n\n        var self = this;\n\n        this.canvas.width = this.config.canvas.width;\n\n        this.canvas.height = this.config.canvas.height;\n\n        this.cropbox.width = this.config.cropbox.width;\n\n        this.cropbox.height = this.config.cropbox.height;\n\n        this.image.opt.max = this.config.maxSize || 1000;\n        this.image.opt.min = Math.max(this.config.cropbox.width, this.config.cropbox.height);\n    },\n    mounted: function mounted() {\n\n        var self = this;\n\n        this.setOffset();\n\n        ['mousedown', 'mousemove', 'mouseup', 'mouseout', 'touchstart', 'touchmove', 'touchend'].forEach(function (type) {\n\n            document.querySelector('.fbc-drag-overlay').addEventListener(type, function (ev) {\n\n                ev.preventDefault();\n\n                self.dragger[ev.type](ev);\n\n                return false;\n            }, false);\n        });\n    }\n});\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\n\nvar Dragger = function () {\n    function Dragger(el, drag_elements, callback) {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, Dragger);\n\n        this.el = el;\n\n        this.callback = callback;\n\n        this.drag_elements = drag_elements;\n\n        this.dragging = false;\n\n        this.startClientXY = [];\n\n        this.startStyleXY = [];\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(Dragger, [{\n        key: \"dragStart\",\n        value: function dragStart(ev) {\n\n            var el = document.querySelector(this.el);\n\n            this.startClientXY = [ev.clientX, ev.clientY];\n\n            this.startStyleXY = [parseInt(el.style.left), parseInt(el.style.top)];\n        }\n    }, {\n        key: \"onDrag\",\n        value: function onDrag(ev) {\n\n            var left = this.startStyleXY[0] + ev.clientX - this.startClientXY[0];\n\n            var top = this.startStyleXY[1] + ev.clientY - this.startClientXY[1];\n\n            this.callback(left, top);\n\n            return false;\n        }\n    }, {\n        key: \"mousedown\",\n        value: function mousedown(ev) {\n\n            if (this.dragging) return;\n\n            this.dragging = true;\n\n            this.dragStart(ev);\n        }\n    }, {\n        key: \"mousemove\",\n        value: function mousemove(ev) {\n\n            if (!this.dragging) return false;\n\n            this.onDrag(ev);\n        }\n    }, {\n        key: \"mouseup\",\n        value: function mouseup(ev) {\n\n            this.dragging = false;\n\n            this.startClientXY = [];\n        }\n    }, {\n        key: \"mouseout\",\n        value: function mouseout(ev) {\n\n            ev.preventDefault();\n\n            if (this.drag_elements.indexOf(ev.toElement.className) > -1) {\n                if (!this.dragging) return false;\n                this.onDrag(ev);\n            } else {\n                this.dragging = false;\n                this.drag_start = {};\n                return false;\n            }\n        }\n    }, {\n        key: \"touchstart\",\n        value: function touchstart(ev) {\n\n            if (this.dragging) return;\n\n            this.dragging = true;\n\n            var touches = ev.changedTouches[0];\n\n            this.dragStart(touches);\n        }\n    }, {\n        key: \"touchend\",\n        value: function touchend(ev) {\n            ev.preventDefault();\n\n            if (!this.dragging) return;\n\n            this.dragging = false;\n\n            this.move_start = 0;\n\n            this.startClientXY = [];\n        }\n    }, {\n        key: \"touchmove\",\n        value: function touchmove(ev) {\n\n            ev.preventDefault();\n\n            if (!this.dragging) return false;\n\n            this.onDrag(ev.changedTouches[0]);\n        }\n    }]);\n\n    return Dragger;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Dragger);\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n\n\n\n\nvar ImageHandler = function () {\n    function ImageHandler() {\n        var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ImageHandler);\n\n        this.img = null;\n\n        this.src = null;\n\n        this.width = null;\n\n        this.height = null;\n\n        this.prop = 1;\n\n        this.opt = opt;\n    }\n\n    __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(ImageHandler, [{\n        key: 'isImage',\n        value: function isImage(file) {\n            return file.type.includes('image');\n        }\n    }, {\n        key: 'onFileRead',\n        value: function onFileRead(file, callback) {\n\n            this.origFileName = file.name;\n\n            this.origFileSize = file.size;\n\n            self = this;\n\n            var reader = new FileReader();\n\n            reader.onload = function (event) {\n\n                self.onLoadImage(event.target.result, callback);\n            };\n\n            reader.readAsDataURL(file);\n        }\n    }, {\n        key: 'onLoadImage',\n        value: function onLoadImage(src) {\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\n            var img = new Image();\n\n            var self = this;\n\n            img.onload = function () {\n\n                self.img = img;\n\n                self.prop = img.naturalWidth / img.naturalHeight;\n\n                self.width = img.naturalWidth;\n\n                self.height = img.naturalHeight;\n\n                if (callback) callback(img, self.width, self.height, self.prop);\n            };\n\n            img.src = src;\n        }\n    }, {\n        key: 'create',\n        value: function create() {\n            var opt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n\n            img = opt.hasOwnProperty('img') ? opt.img : this.img;\n\n            opt.width = opt.hasOwnProperty('width') ? opt.width : this.width;\n\n            opt.height = opt.hasOwnProperty('height') ? opt.height : this.height;\n\n            opt.top = opt.hasOwnProperty('top') ? opt.top : 0;\n\n            opt.left = opt.hasOwnProperty('left') ? opt.left : 0;\n\n            opt.quality = opt.hasOwnProperty('quality') ? opt.quality : .70;\n\n            opt.isCrop = opt.hasOwnProperty('isCrop') ? opt.isCrop : false;\n\n            var cvs = document.createElement('canvas');\n\n            cvs.width = opt.hasOwnProperty('canvas_width') ? opt.canvas_width : opt.width;\n\n            cvs.height = opt.hasOwnProperty('canvas_height') ? opt.canvas_height : opt.height;\n\n            var ctx = cvs.getContext(\"2d\");\n\n            ctx.drawImage(img, opt.left, opt.top, opt.width, opt.height);\n\n            var quality = opt.quality > 1 ? opt.quality / 100 : opt.quality;\n\n            var data = cvs.toDataURL('image/jpeg', quality);\n\n            this.setSize(data);\n\n            var img = new Image();\n\n            var self = this;\n\n            img.onload = function () {\n                self.img = img;\n                if (callback) {\n                    callback(img);\n                }\n            };\n\n            if (!opt.isCrop) {\n                img.src = data;\n            }\n\n            return data;\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(data) {\n\n            var head = 'data:image/jpeg;base64,';\n\n            var size = Math.round((data.length - head.length) * 3 / 4);\n\n            this.size = size;\n        }\n    }, {\n        key: 'read',\n        value: function read(file) {\n            var self = this;\n\n            return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n                self.onFileRead(file, resolve);\n            });\n        }\n    }, {\n        key: 'createPhoto',\n        value: function createPhoto(file) {\n            var self = this;\n\n            return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve) {\n\n                self.onFileRead(file, function (img, width, height, prop) {\n\n                    var quality = Math.max(width, height) > 1000 ? .50 : .60;\n\n                    if (prop >= 1) {\n                        width = width > 960 ? 960 : width;\n                        height = width / prop;\n                    } else {\n                        height = height > 960 ? 960 : height;\n\n                        width = height * prop;\n                    }\n\n                    self.create({\n                        width: width,\n                        height: height,\n                        img: img,\n                        quality: quality\n\n                    }, function (image) {\n                        resolve(image);\n                    });\n                });\n            });\n        }\n    }, {\n        key: 'resize',\n        value: function resize() {\n\n            if (this.prop >= 1) {\n                this.width = this.width > this.opt.max ? this.opt.max : this.width;\n                this.height = this.width / this.prop;\n            } else {\n                this.height = this.height > this.opt.max ? this.opt.max : this.height;\n\n                this.width = this.height * this.prop;\n            }\n\n            return this;\n        }\n    }, {\n        key: 'fit',\n        value: function fit() {\n            if (Math.max(this.width, this.height) < this.opt.min) {\n\n                if (this.prop >= 1) {\n                    this.height = this.opt.min;\n                    this.width = this.height * this.prop;\n                } else {\n                    this.width = this.opt.min;\n                    this.height = this.width / this.prop;\n                }\n            }\n\n            return this;\n        }\n    }, {\n        key: 'fitCover',\n        value: function fitCover() {\n\n            var canvas_prop = this.opt.width / this.opt.height;\n\n            if (this.prop == 1) {\n                this.width = this.height = this.opt.width;\n            } else if (this.prop < 1) {\n                this.width = this.opt.width;\n                this.height = this.width / this.prop;\n            } else if (this.prop > 1 && this.prop <= canvas_prop) {\n\n                this.width = this.opt.width;\n\n                this.height = this.width / this.prop;\n            } else if (this.prop > canvas_prop) {\n\n                var prop = this.opt.height / this.height;\n\n                this.height = this.opt.height;\n\n                this.width = this.width * prop;\n            }\n\n            return this;\n        }\n    }, {\n        key: 'addPx',\n        value: function addPx(obj) {\n            var o = {};\n\n            o.width = obj.width + 'px';\n\n            o.height = obj.height + 'px';\n\n            if (obj.hasOwnProperty('top')) o.top = obj.top + 'px';\n\n            if (obj.hasOwnProperty('left')) o.left = obj.left + 'px';\n\n            return o;\n        }\n    }]);\n\n    return ImageHandler;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ImageHandler);\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nvar config = {\n  canvas: { width: 600, height: 400 },\n  cropbox: { width: 300, height: 260 },\n  maxSize: 1000\n};\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App :config=\"config\" @crop=\"imageData\" @error=\"onError\" @fileSelect=\"onFileSelect\" />',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a },\n\n  data: {\n    config: config\n  },\n\n  methods: {\n    imageData: function imageData(base64Image) {\n      console.log(base64Image);\n    },\n    onError: function onError(msg) {\n      console.log(msg);\n    },\n    onFileSelect: function onFileSelect() {\n      console.log('file selected');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"fbContainer\",\n    attrs: {\n      \"id\": \"fbContainer\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step === 0),\n      expression: \"step===0\"\n    }],\n    staticClass: \"file-selector has-text-centered\",\n    style: (_vm.selectorStyle),\n    on: {\n      \"click\": function($event) {\n        _vm.$refs.fileinput.click()\n      },\n      \"dragleave\": function($event) {\n        $event.preventDefault();\n      },\n      \"dragover\": function($event) {\n        $event.preventDefault();\n      },\n      \"dragenter\": function($event) {\n        $event.preventDefault();\n      },\n      \"drop\": function($event) {\n        $event.preventDefault();\n        _vm.handleImage($event)\n      }\n    }\n  }, [_c('input', {\n    ref: \"fileinput\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": _vm.handleImage\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticStyle: {\n      \"color\": \"#999\",\n      \"margin\": \"30px 0\",\n      \"font-size\": \"1.5rem\"\n    }\n  }, [_vm._v(\"Drop image here or Click to select\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"fa fa-cloud-upload\"\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step == 1),\n      expression: \"step==1\"\n    }],\n    ref: \"fbCropper\",\n    staticClass: \"crop-container\",\n    style: (_vm.canvasStyle),\n    attrs: {\n      \"id\": \"fb_cropper\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.image.img),\n      expression: \"image.img\"\n    }],\n    staticClass: \"fbc-canvas\",\n    style: (_vm.canvasStyle)\n  }, [_c('img', {\n    ref: \"canvasImage\",\n    staticClass: \"fbc-canvas-img\",\n    attrs: {\n      \"src\": _vm.image.img ? _vm.image.img.src : ''\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"cropbox\",\n    style: (_vm.cropboxStyle)\n  }, [_c('img', {\n    ref: \"cropboxImage\",\n    staticClass: \"cropbox-image\",\n    attrs: {\n      \"src\": _vm.image.img ? _vm.image.img.src : ''\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"fbc-drag-overlay\"\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step == 1),\n      expression: \"step==1\"\n    }],\n    staticClass: \"fbc-footer\",\n    style: (_vm.footerStyle)\n  }, [_c('div', {\n    staticClass: \"fbc-footer-left\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.canvasImage.width),\n      expression: \"canvasImage.width\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    staticClass: \"range-slider\",\n    attrs: {\n      \"type\": \"range\",\n      \"min\": _vm.getMinValue(),\n      \"max\": _vm.image.width,\n      \"step\": _vm.getStep\n    },\n    domProps: {\n      \"value\": (_vm.canvasImage.width)\n    },\n    on: {\n      \"input\": _vm.resizeImage,\n      \"__r\": function($event) {\n        _vm.canvasImage.width = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"fbc-footer-right\"\n  }, [_c('button', {\n    staticClass: \"btn-crop\",\n    on: {\n      \"click\": _vm.cropImage\n    }\n  }, [_c('span', [_vm._v(\"Crop\")])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step == 2),\n      expression: \"step==2\"\n    }],\n    staticClass: \"crop-container\",\n    style: (_vm.canvasStyle)\n  }, [_c('div', {\n    staticClass: \"fbc-output\",\n    style: (_vm.canvasStyle)\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.croppedImageSrc,\n      \"alt\": \"\"\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.overlay),\n      expression: \"overlay\"\n    }],\n    staticClass: \"fbc-overlay\"\n  }, [_c('i', {\n    staticClass: \"fbc-loader is-small\"\n  })])])\n},staticRenderFns: []}\n\n/***/ })\n\n},[38]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.f7107e1dcdd087647298.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-42430b10\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42430b10\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 33\n// module chunks = 1","<template>\n\n    <div ref=\"fbContainer\" id=\"fbContainer\">\n\n        <div class=\"file-selector has-text-centered\" v-show=\"step===0\" \n            @click=\"$refs.fileinput.click()\" \n            @dragleave.prevent=\"\" \n            @dragover.prevent=\"\" \n            @dragenter.prevent=\"\" \n            @drop.prevent=\"handleImage\" \n            :style=\"selectorStyle\"\n        >\n\n            <input style=\"display: none\" type=\"file\" @change=\"handleImage\" ref=\"fileinput\" accept=\"image/*\" />\n\n            <p style=\"color: #999; margin: 30px 0; font-size:1.5rem;\">Drop image here or Click to select</p>\n\n            <i class=\"fa fa-cloud-upload\"></i>\n\n        </div>\n\n        <div v-show=\"step==1\" id=\"fb_cropper\" class=\"crop-container\" ref=\"fbCropper\" :style=\"canvasStyle\">\n            <div v-show=\"image.img\" class=\"fbc-canvas\" :style=\"canvasStyle\">\n\n                <img \n                    ref=\"canvasImage\" \n                    class=\"fbc-canvas-img\" \n                    :src=\"image.img?image.img.src:''\" \n                >\n\n                <div \n\n                    class=\"cropbox\" \n\n                    :style=\"cropboxStyle\" \n                >\n                    <img \n                        class=\"cropbox-image\" \n\n                        :src=\"image.img?image.img.src:''\" \n\n                        ref=\"cropboxImage\"\n                    >\n                </div>\n\n            </div>\n\n            <div class=\"fbc-drag-overlay\"></div>\n\n        </div>\n\n        <div class=\"fbc-footer\" :style=\"footerStyle\" v-show=\"step==1\">\n          \n            <div class=\"fbc-footer-left\">\n                \n                <input class=\"range-slider\" type=\"range\" :min=\"getMinValue()\" :max=\"image.width\" v-model.number=\"canvasImage.width\" @input=\"resizeImage\" :step=\"getStep\">\n                \n            </div>\n\n            <div class=\"fbc-footer-right\">\n\n                    <button class=\"btn-crop\" @click=\"cropImage\">\n                        <span>Crop</span>\n                    </button>\n\n            </div>\n           \n\n        </div>\n\n        <div v-show=\"step==2\" class=\"crop-container\" :style=\"canvasStyle\">\n            <div class=\"fbc-output\" :style=\"canvasStyle\">\n                <img :src=\"croppedImageSrc\" alt=\"\">\n            </div>\n        </div>\n\n        <div class=\"fbc-overlay\" v-show=\"overlay\">\n            <i class=\"fbc-loader is-small\"></i>\n        </div>\n\n    </div>\n\n</template>\n\n<script>\n    import Dragger from './Dragger';\n    import ImageHandler from './ImageHandler';\n\n    export default {\n\n        props: ['config', 'callback', 'redirTo'],\n\n        data: function(){\n            return {\n\n                step: 0,\n\n                overlay: false,\n\n                avatar: null,\n\n                image: new ImageHandler(),\n\n                dragger: new Dragger('.fbc-canvas-img', ['.fbc-drag-overlay'], this.onMove),\n\n                fb_cropper_width: 1000,\n\n                orientation_prop: 1.8,\n\n                canvas: {width: 0, height: 0},\n\n                canvasImage: {width: 0, height: 0, top: 0, left: 0},\n\n                cropbox: {width: 0, height: 0, left:0, top: 0},\n\n                cropboxImage: {width: 0, height: 0, left:0, top: 0},\n\n                dragging: false,\n\n                dragStartPos: [],\n                \n                croppedImageSrc: ''\n            }\n        },\n\n        methods: {\n\n            handleImage(e){\n\n                e.preventDefault();\n\n                this.overlay = true;\n\n                this.$emit('fileSelect');\n\n                let files = e.target.files || e.dataTransfer.files;\n\n                let file = files[0];\n\n                //console.log(file)\n\n                e.target.value = null;\n\n                let self = this;\n\n                if(!this.image.isImage(file)){\n\n                    this.$emit('error', 'Invalid Image');\n\n                    self.overlay = false;\n\n                    return false;\n                }\n\n                this.image.onFileRead(file, function(){\n\n                    //if size > max || size < min resize and fit\n                    self.image.resize().fit().create();\n\n                    self.canvasImage.width = self.image.width;\n\n                    self.canvasImage.height = self.image.height;\n\n\n                    self.step = 1;\n\n                    self.overlay = false;\n\n                    self.setOffset();\n\n\n                });\n\n            },\n\n\n            addPx(obj){\n                let o = {};\n\n                o.width = obj.width + 'px';\n\n                o.height = obj.height + 'px';\n\n                if(obj.hasOwnProperty('top')) o.top = obj.top + 'px';\n\n                if(obj.hasOwnProperty('left')) o.left = obj.left + 'px';\n\n                return o;\n            },\n\n            setOffset(){\n\n                if(window.device==='mobile'){\n\n                    this.canvas.width = this.$refs.fbContainer.offsetWidth;\n\n                    this.canvas.height = this.canvas.width;\n\n                }\n\n                let width,height;\n\n                if(this.image.prop >= 1){\n                    width = this.image.width > this.cropbox.width ? this.cropbox.width : this.image.width;\n                    height = width / this.image.prop;\n                }else{\n                    height = this.image.height > this.cropbox.height ? this.cropbox.height : this.image.height;\n                    width = height * this.image.prop;\n                }\n\n                if(width < this.cropbox.width){\n                    width = this.cropbox.width;\n                    height = width / this.image.prop;\n\n                }\n\n                if( height < this.cropbox.height ){\n                    height = this.cropbox.height;\n                    width = height * this.image.prop;\n\n                }\n\n                this.caclImageOffset(width, height);        \n\n            },\n\n            caclImageOffset(width, height){\n\n                let left,top;\n\n                left = (this.canvas.width - width) / 2;\n\n                top = (this.canvas.height - height) / 2;\n\n                this.$refs.canvasImage.style.width = width + 'px';\n\n                this.$refs.canvasImage.style.height = height + 'px';\n\n                this.$refs.canvasImage.style.left = left + 'px';\n\n                this.$refs.canvasImage.style.top = top + 'px';\n\n                this.canvasImage = {width, height, left, top};\n\n                this.setCropboxImageProp();\n                \n            },\n\n            setCanvasImageProp(){\n\n\n                this.canvasImage.left = (this.canvas.width - this.canvasImage.width) / 2;\n\n                this.canvasImage.top = (this.canvas.height - this.canvasImage.height) / 2;    \n\n            },\n\n            setCropboxImageProp(){\n\n                let cb = this.$refs.cropboxImage.style;\n\n                cb.width = this.canvasImage.width + 'px';\n\n                cb.height = this.canvasImage.height + 'px';\n\n                this.cropbox.left = (this.canvas.width - this.cropbox.width)/ 2;\n\n                this.cropbox.top = (this.canvas.height - this.cropbox.height)/ 2;\n\n\n                if(this.image.img){\n\n                    let cl = this.canvasImage.left - this.cropbox.left;\n\n                    let ct = this.canvasImage.top - this.cropbox.top;\n\n                    cb.left = cl + 'px';\n\n                    cb.top = ct + 'px';\n\n                    this.cropboxImage = {width: parseInt(cb.width), height: parseInt(cb.height), top: ct, left: cl};\n\n                }\n\n\n            },\n\n            onMove(left, top){\n\n                let limitX = (this.cropbox.width + this.cropbox.left) - this.canvasImage.width;\n\n                left = left < limitX ? limitX : left;\n\n                left = left > this.cropbox.left ? this.cropbox.left : left;\n\n                this.$refs.canvasImage.style.left = left + 'px';\n\n                // top\n\n                let limitY = (this.cropbox.height + this.cropbox.top) - this.canvasImage.height;\n\n                top = top < limitY ? limitY : top;\n\n                top = top > this.cropbox.top ? this.cropbox.top : top;\n\n\n                this.$refs.canvasImage.style.top = top + 'px';\n\n                this.canvasImage.left = left;\n\n                this.canvasImage.top = top;\n\n                this.setCropboxImageProp(left, top);\n            },\n\n            getMinValue(){\n                if(this.cropbox.height > this.cropbox.width){\n                    return this.image.prop > 1 ? this.cropbox.height * this.image.prop : this.cropbox.height\n                }\n                \n                return this.image.prop > 1 ? this.cropbox.width * this.image.prop : this.cropbox.width\n\n               return this.cropbox.width;\n            },\n\n            resizeImage(ev){\n\n                this.canvasImage.height = this.canvasImage.width / this.image.prop;\n\n                this.caclImageOffset(this.canvasImage.width, this.canvasImage.height);\n\n\n                //this.dragImage.width = 0;\n            },\n\n            cropImage(e){\n\n                e.preventDefault();\n\n                this.overlay = true;\n\n                self = this;\n\n                //console.log(this.cropboxImage);\n\n                let data = this.image.create({\n                    canvas_width: this.cropbox.width,\n                    canvas_height: this.cropbox.height,\n                    width: this.cropboxImage.width,\n                    height: this.cropboxImage.height,\n                    top: this.cropboxImage.top,\n                    left: this.cropboxImage.left,\n                    isCrop: true\n\n                });\n\n                this.croppedImageSrc = data;\n\n                this.step = 2;\n                \n                this.overlay = false;\n\n                this.$emit('crop', data);\n            }\n\n\n        },\n\n        computed: {\n\n            selectorStyle(){\n        \n                return {\n                    width: this.config.canvas.width + 'px',\n                    height: this.config.canvas.height + 'px'\n                }\n            },\n\n            canvasStyle(){\n\n                this.setCanvasImageProp();\n\n                return this.addPx(this.canvas);\n\n            },\n\n            canvasImageStyle(){          \n\n                return this.addPx(this.canvasImage);\n\n            },\n\n            cropboxStyle(){\n\n                this.cropbox.left = (this.canvas.width - this.cropbox.width) / 2;\n\n                this.cropbox.top = (this.canvas.height - this.cropbox.height) / 2;\n\n\n                return this.addPx(this.cropbox);\n\n            },\n\n            cropboxImageStyle(){\n\n                this.cropboxImage.width = this.canvasImage.width;\n\n                this.cropboxImage.height = this.canvasImage.height;\n\n                // set cropbox\n\n                return this.addPx(this.cropboxImage);\n\n            },\n\n            getStep(){\n                return (this.image.width - this.getMinValue() ) / 10;\n            },\n\n            footerStyle(){\n        \n                return {\n                    width: this.config.canvas.width + 'px'\n                }\n            },\n            \n        },\n\n        created(){\n\n            let self = this;\n\n            this.canvas.width = this.config.canvas.width;\n\n            this.canvas.height = this.config.canvas.height;\n\n            this.cropbox.width = this.config.cropbox.width;\n\n            this.cropbox.height = this.config.cropbox.height;\n\n            this.image.opt.max = this.config.maxSize || 1000;\n            this.image.opt.min = Math.max(this.config.cropbox.width, this.config.cropbox.height);\n\n        },\n\n        mounted(){\n\n            let self = this;\n\n            // set the container width and height\n\n            this.setOffset();\n\n            ['mousedown', 'mousemove', 'mouseup', 'mouseout','touchstart', 'touchmove', 'touchend'].forEach(type => {\n\n                document.querySelector('.fbc-drag-overlay').addEventListener(type, function(ev){\n\n                    ev.preventDefault();\n\n                    self.dragger[ev.type](ev);  \n\n                    return false;\n\n                }, false);\n\n\n            });\n\n        }\n    }\n\n</script>\n\n<style>\n\n    #fbContainer{\n        width: 100%;\n        position: relative;\n    }\n\n    .crop-container{\n\n        box-sizing: border-box;\n\n        position: relative;\n\n        margin: 0 auto;\n    }\n\n    .fbc-drag-overlay{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background-color: transparent;\n        z-index: 4;\n    }\n\n    .fbc-canvas{\n        margin: 0 auto;\n        box-sizing: border-box;\n        width: 100%;\n        outline: 4px solid #eee;\n        position: relative;\n        overflow: hidden;\n        background: silver;\n    }\n\n    .fbc-canvas-img{\n        position: absolute;\n        left: 0;\n        top: 0;\n        opacity: 0.2;\n        max-width: none;\n    }\n\n    .cropbox,\n    .preview{\n        position: absolute;\n        width: 260px;\n        height: 260px;\n        overflow: hidden;\n        z-index: 1;\n    }\n\n    .cropbox-image,\n    .preview img{\n        position: absolute;\n        max-width: none;\n    }\n\n    .cropbox {\n        outline: 8px solid rgba(255, 255, 255, 0.55);\n    }\n\n    .slider{\n        padding: 25px 0;\n    }\n\n    .file-selector{\n\n        margin: 0 auto;\n        width: 100px;\n        height: 100px;\n        border: 1px dashed #ddd;\n        background-color: #f9f9f9;\n        text-align: center;\n    }\n\n    .file-selector i{\n        color: silver;\n        font-size: 8rem;\n    }\n\n    .file-selector p{\n        margin: 15px 0;\n    }\n\n    .fbc-overlay{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background: rgba(0, 40, 47, 0.45);\n        z-index: 19;\n    }\n\n    .fbc-overlay i{\n        font-size: 80px;\n        color: #fff;\n        position: relative;\n        top: calc(50% - 40px);\n        left: calc(50% - 40px);\n    }\n\n    input[type=\"range\"] {\n      -webkit-appearance: none;\n      background-color: #bdc3c7;\n      width: 100%;\n      height: 5px;\n      border-radius: 5px;\n      margin: 0 auto;\n      outline: 0;\n    }\n\n    input[type=range]:focus{\n      outline: none;\n    }\n\n    input[type=\"range\"]::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      background: white;\n      border: 2px solid #1ECD97;\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n      cursor: pointer;\n      transition: 0.3s ease-in-out;\n    }\n\n    .fbc-footer{\n        height: auto;\n        margin: 0 auto;\n        margin-top: 1rem;\n    }\n\n    .fbc-footer-left,\n    .fbc-footer-right{\n        display: inline-block;\n        margin-right: -4px;\n        width: 50%;\n        height: 30px;\n        line-height: 30px;\n    }\n\n    .fbc-footer-right{\n        text-align: right;\n    }\n    .fbc-output{\n        display: table-cell;\n        vertical-align: middle;\n        text-align: center;\n        outline: 4px solid #eee;\n        position: relative;\n        overflow: hidden;\n        background: silver;\n    }\n\n    .btn-crop {\n        outline:none;\n        height: 40px;\n        text-align: center;\n        min-width: 110px;\n        border-radius:40px;\n        background: #fff;\n        border: 2px solid #1ECD97;\n        color: #1ECD97;\n        letter-spacing:1px;\n        text-shadow:0;\n        cursor: pointer;\n        transition: all 0.25s ease;\n    }\n\n    .btn-crop:hover {\n        color:white;\n        background: #1ECD97;\n    }\n\n    .btn-crop:active {\n        letter-spacing: 2px ;\n    }\n\n    .fbc-loader:after{\n        content: \"\";\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        border: 4px solid #f3f3f3;\n        border-radius: 50%;\n        border-top: 4px solid #3498db;\n        width: 25px;\n        height: 25px;\n        margin-left: -12.5px;\n        margin-top: -12.5px;\n        -webkit-animation: fbc-spin 2s linear infinite;\n        animation: fbc-spin 2s linear infinite;\n    }\n\n    .fbc-loader.is-small:after{\n        width: 40px;\n        height: 40px;\n        margin-left: -20px;\n        margin-top: -20px;\n    }\n\n    .fbc-overlay.is-large:after{\n        width: 60px;\n        height: 60px;\n        margin-left: -30px;\n        margin-top: -30px;\n    }\n\n\n    @keyframes fbc-spin{\n    0%{\n        transform: rotate(0deg);\n    }\n    100%{\n        transform: rotate(360deg)\n    }\n    }\n\n</style>\n\n\n// WEBPACK FOOTER //\n// App.vue?457bf117","export default class Dragger {\n\n    constructor(el, drag_elements, callback) {\n\n        this.el = el;\n\n        this.callback = callback;\n\n        // elements [div, classes, etc] on dragging allowed\n\n        this.drag_elements = drag_elements;\n\n        this.dragging = false;\n\n        this.startClientXY = [];\n\n        this.startStyleXY = [];\n    }\n\n    dragStart(ev) {\n\n        let el = document.querySelector(this.el);\n\n        this.startClientXY = [ev.clientX, ev.clientY];\n\n        this.startStyleXY = [parseInt(el.style.left), parseInt(el.style.top)];\n\n    }\n\n    onDrag(ev) {\n\n        let left = this.startStyleXY[0] + ev.clientX - this.startClientXY[0];\n\n        let top = this.startStyleXY[1] + ev.clientY - this.startClientXY[1];\n\n        this.callback(left, top);\n\n        return false;\n    }\n\n    mousedown(ev) {\n\n        if (this.dragging) return;\n\n        this.dragging = true;\n\n        this.dragStart(ev);\n\n    }\n\n    mousemove(ev) {\n\n        if (!this.dragging) return false;\n\n        this.onDrag(ev);\n\n    }\n\n    mouseup(ev) {\n\n        this.dragging = false;\n\n        this.startClientXY = [];\n    }\n\n    mouseout(ev) {\n\n        ev.preventDefault();\n\n        //let classes = ['drag-image', 'drag-helper'];\n\n        if (this.drag_elements.indexOf(ev.toElement.className) > -1) {\n            if (!this.dragging) return false;\n            this.onDrag(ev);\n        } else {\n            this.dragging = false;\n            this.drag_start = {};\n            return false;\n        }\n    }\n\n    touchstart(ev) {\n\n        if (this.dragging) return;\n\n        this.dragging = true;\n\n        var touches = ev.changedTouches[0];\n\n        this.dragStart(touches);\n\n\n    }\n\n    touchend(ev) {\n        ev.preventDefault();\n\n        if (!this.dragging) return;\n\n        this.dragging = false;\n\n        this.move_start = 0;\n\n        this.startClientXY = [];\n\n\n    }\n\n    touchmove(ev) {\n\n        ev.preventDefault();\n\n        if (!this.dragging) return false;\n\n        this.onDrag(ev.changedTouches[0]);\n\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Dragger.js","export default class ImageHandler {\n    constructor(opt={}) {\n\n        this.img = null;\n\n        this.src = null;\n\n        this.width = null;\n\n        this.height = null;\n\n        this.prop = 1;\n\n        this.opt = opt;\n    }\n\n    isImage(file) {\n        return file.type.includes('image');\n    }\n\n    onFileRead(file, callback) {\n\n        this.origFileName = file.name;\n\n        this.origFileSize = file.size;\n\n        self = this;\n\n        let reader = new FileReader();\n\n        reader.onload = function (event) {\n\n            self.onLoadImage(event.target.result, callback);\n        }\n\n        reader.readAsDataURL(file);\n    }\n\n\n    onLoadImage(src, callback = null) {\n\n        let img = new Image();\n\n        let self = this;\n\n        img.onload = function () {\n\n            self.img = img;\n\n            self.prop = img.naturalWidth / img.naturalHeight;\n\n            self.width = img.naturalWidth;\n\n            self.height = img.naturalHeight;\n\n            if (callback) callback(img, self.width, self.height, self.prop);\n        }\n\n        img.src = src;\n    }\n\n    create(opt = {}, callback = null) {\n\n        img = opt.hasOwnProperty('img') ? opt.img : this.img;\n\n        opt.width = opt.hasOwnProperty('width') ? opt.width : this.width;\n\n        opt.height = opt.hasOwnProperty('height') ? opt.height : this.height;\n\n        opt.top = opt.hasOwnProperty('top') ? opt.top : 0;\n\n        opt.left = opt.hasOwnProperty('left') ? opt.left : 0;\n\n        opt.quality = opt.hasOwnProperty('quality') ? opt.quality : .70;\n\n        opt.isCrop = opt.hasOwnProperty('isCrop') ? opt.isCrop : false;\n\n        let cvs = document.createElement('canvas');\n\n        cvs.width = opt.hasOwnProperty('canvas_width') ? opt.canvas_width : opt.width;\n\n        cvs.height = opt.hasOwnProperty('canvas_height') ? opt.canvas_height : opt.height;\n\n        let ctx = cvs.getContext(\"2d\");\n\n        ctx.drawImage(img, opt.left, opt.top, opt.width, opt.height);\n\n        let quality = opt.quality > 1 ? (opt.quality) / 100 : opt.quality;\n\n        let data = cvs.toDataURL('image/jpeg', quality);\n\n        this.setSize(data);\n\n        let img = new Image();\n\n        let self = this;\n\n        img.onload = function () {\n            self.img = img;\n            if (callback) {\n                callback(img);\n            }\n        }\n\n        if (!opt.isCrop) {\n            img.src = data;\n\n        }\n\n\n        return data;\n    }\n\n    setSize(data) {\n\n        let head = 'data:image/jpeg;base64,';\n\n        let size = Math.round((data.length - head.length) * 3 / 4);\n\n        this.size = size;\n    }\n\n    read(file) {\n        var self = this;\n\n        return new Promise(resolve => {\n            self.onFileRead(file, resolve);\n        });\n    }\n\n    createPhoto(file) {\n        var self = this;\n\n        return new Promise(function (resolve) {\n\n            self.onFileRead(file, function (img, width, height, prop) {\n\n                // set quality\n\n                let quality = Math.max(width, height) > 1000 ? .50 : .60;\n\n                // resize\n\n                if (prop >= 1) {\n                    width = width > 960 ? 960 : width;\n                    height = width / prop;\n                } else {\n                    height = height > 960 ? 960 : height;\n\n                    width = height * prop;\n                }\n\n\n                // create\n\n                self.create({\n                    width,\n                    height,\n                    img,\n                    quality: quality\n\n                }, function (image) {\n                    resolve(image);\n                })\n\n            });\n\n        });\n    }\n\n    resize() {\n\n        if (this.prop >= 1) {\n            this.width = this.width > this.opt.max ? this.opt.max : this.width;\n            this.height = this.width / this.prop;\n        } else {\n            this.height = this.height > this.opt.max ? this.opt.max : this.height;\n\n            this.width = this.height * this.prop;\n        }\n        \n        return this;\n    }\n\n    fit() {\n        if (Math.max(this.width, this.height) < this.opt.min) {\n\n            if (this.prop >= 1) {\n                this.height = this.opt.min;\n                this.width = this.height * this.prop;\n            } else {\n                this.width = this.opt.min;\n                this.height = this.width / this.prop;\n            }\n        }\n\n        return this;\n    }\n\n    fitCover() {\n\n        let canvas_prop = this.opt.width / this.opt.height;\n\n        if (this.prop == 1) {\n            this.width = this.height = this.opt.width;\n        } else if (this.prop < 1) {\n            this.width = this.opt.width;\n            this.height = this.width / this.prop;\n        } else if (this.prop > 1 && this.prop <= canvas_prop) {\n\n            this.width = this.opt.width;\n\n            this.height = this.width / this.prop;\n\n        } else if (this.prop > canvas_prop) {\n\n            let prop = this.opt.height / this.height;\n\n            this.height = this.opt.height;\n\n            this.width = this.width * prop;\n        }\n\n        return this;\n\n    }\n\n    addPx(obj) {\n        let o = {};\n\n        o.width = obj.width + 'px';\n\n        o.height = obj.height + 'px';\n\n        if (obj.hasOwnProperty('top')) o.top = obj.top + 'px';\n\n        if (obj.hasOwnProperty('left')) o.left = obj.left + 'px';\n\n        return o;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ImageHandler.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false;\n\nconst config = {\n  canvas: {width: 600, height: 400},\n  cropbox: {width: 300, height: 260},\n  maxSize: 1000\n};\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App :config=\"config\" @crop=\"imageData\" @error=\"onError\" @fileSelect=\"onFileSelect\" />',\n  components: { App },\n\n  data: {\n  \tconfig: config\n  },\n\n  methods: {\n    imageData(base64Image) {\n      console.log(base64Image)\n    },\n\n    onError(msg){\n      console.log(msg)\n    },\n\n    onFileSelect(){\n      console.log('file selected')\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"fbContainer\",\n    attrs: {\n      \"id\": \"fbContainer\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step === 0),\n      expression: \"step===0\"\n    }],\n    staticClass: \"file-selector has-text-centered\",\n    style: (_vm.selectorStyle),\n    on: {\n      \"click\": function($event) {\n        _vm.$refs.fileinput.click()\n      },\n      \"dragleave\": function($event) {\n        $event.preventDefault();\n      },\n      \"dragover\": function($event) {\n        $event.preventDefault();\n      },\n      \"dragenter\": function($event) {\n        $event.preventDefault();\n      },\n      \"drop\": function($event) {\n        $event.preventDefault();\n        _vm.handleImage($event)\n      }\n    }\n  }, [_c('input', {\n    ref: \"fileinput\",\n    staticStyle: {\n      \"display\": \"none\"\n    },\n    attrs: {\n      \"type\": \"file\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": _vm.handleImage\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticStyle: {\n      \"color\": \"#999\",\n      \"margin\": \"30px 0\",\n      \"font-size\": \"1.5rem\"\n    }\n  }, [_vm._v(\"Drop image here or Click to select\")]), _vm._v(\" \"), _c('i', {\n    staticClass: \"fa fa-cloud-upload\"\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step == 1),\n      expression: \"step==1\"\n    }],\n    ref: \"fbCropper\",\n    staticClass: \"crop-container\",\n    style: (_vm.canvasStyle),\n    attrs: {\n      \"id\": \"fb_cropper\"\n    }\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.image.img),\n      expression: \"image.img\"\n    }],\n    staticClass: \"fbc-canvas\",\n    style: (_vm.canvasStyle)\n  }, [_c('img', {\n    ref: \"canvasImage\",\n    staticClass: \"fbc-canvas-img\",\n    attrs: {\n      \"src\": _vm.image.img ? _vm.image.img.src : ''\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"cropbox\",\n    style: (_vm.cropboxStyle)\n  }, [_c('img', {\n    ref: \"cropboxImage\",\n    staticClass: \"cropbox-image\",\n    attrs: {\n      \"src\": _vm.image.img ? _vm.image.img.src : ''\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"fbc-drag-overlay\"\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step == 1),\n      expression: \"step==1\"\n    }],\n    staticClass: \"fbc-footer\",\n    style: (_vm.footerStyle)\n  }, [_c('div', {\n    staticClass: \"fbc-footer-left\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model.number\",\n      value: (_vm.canvasImage.width),\n      expression: \"canvasImage.width\",\n      modifiers: {\n        \"number\": true\n      }\n    }],\n    staticClass: \"range-slider\",\n    attrs: {\n      \"type\": \"range\",\n      \"min\": _vm.getMinValue(),\n      \"max\": _vm.image.width,\n      \"step\": _vm.getStep\n    },\n    domProps: {\n      \"value\": (_vm.canvasImage.width)\n    },\n    on: {\n      \"input\": _vm.resizeImage,\n      \"__r\": function($event) {\n        _vm.canvasImage.width = _vm._n($event.target.value)\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    staticClass: \"fbc-footer-right\"\n  }, [_c('button', {\n    staticClass: \"btn-crop\",\n    on: {\n      \"click\": _vm.cropImage\n    }\n  }, [_c('span', [_vm._v(\"Crop\")])])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.step == 2),\n      expression: \"step==2\"\n    }],\n    staticClass: \"crop-container\",\n    style: (_vm.canvasStyle)\n  }, [_c('div', {\n    staticClass: \"fbc-output\",\n    style: (_vm.canvasStyle)\n  }, [_c('img', {\n    attrs: {\n      \"src\": _vm.croppedImageSrc,\n      \"alt\": \"\"\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.overlay),\n      expression: \"overlay\"\n    }],\n    staticClass: \"fbc-overlay\"\n  }, [_c('i', {\n    staticClass: \"fbc-loader is-small\"\n  })])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-42430b10\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 78\n// module chunks = 1"],"sourceRoot":""}